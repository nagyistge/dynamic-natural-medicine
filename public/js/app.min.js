/*! dynamic-natural-medicine - v0.0.1 - 2014-03-19 */
var Doctor=Doctor||function(a){var b={},c={},d={},e={},f={};b={settings:{debug:!0,meta:{homeURL:""},init:function(){g("Initializing Settings"),a('meta[name^="app-"]').each(function(){b.settings.meta[this.name.replace("app-","")]=this.content}),g("Initialized Settings")}},cache:{window:window,document:document},home_url:function(a){return"undefined"==typeof a&&(a=""),b.settings.meta.homeURL+a+"/"},log:function(){b.settings.debug&&console.log.apply(console,arguments)},checkIfExternalLink:function(a){return"."!=a.charAt(0)&&"#"!=a.charAt(0)&&("/"!=a.charAt(0)||0==a.indexOf("//"))},parseRoute:function(a){var c=a.delimiter||"/",d=a.path.split(c),e=a.target[d.shift()],f="undefined"!=typeof e,g=0==d.length;a.inits=a.inits||[],f?("function"==typeof e.init&&a.inits.push(e.init),g?a.parsed.call(void 0,{exists:!0,type:typeof e,obj:e,inits:a.inits}):b.parseRoute({path:d.join(c),target:e,delimiter:c,parsed:a.parsed,inits:a.inits})):a.parsed.call(void 0,{exists:!1})}};var g=b.log;return c={ajaxUrl:b.home_url(""),send:function(b,d,e,f){a.ajax({type:"POST",url:c.ajaxUrl+d,dataType:"json",data:e,success:f})},call:function(a,b,d){c.send("POST",a,b,d)},get:function(a,b,d){c.send("GET",a,b,d)}},d={endpoints:{contact:{send:function(){var b=(a(this),a("#contact-form")),c=a("input[name=name]",b).val(),d=a("input[name=email]",b).val(),e=a("textarea[name=message]",b).val();g("foirm",a("#contact-form").serialize());var f={name:c,email:d,message:e},h="/contact";a.post(h,f,function(a){g("success",a)}).done(function(){g("second success")}).fail(function(a){g("error",a),g("error",a.status)}).always(function(){g("finished")})}},read:{more:function(){var b=a(this),c=a(b.data("target"));c.show(),b.hide()}}},bindEvents:function(){g("Binding Events"),a("[data-event]").each(function(){var c=this,e=c.dataset.method||"click",f=c.dataset.event,g=c.dataset.bound;g||b.parseRoute({path:f,target:d.endpoints,delimiter:".",parsed:function(b){b.exists&&(c.dataset.bound=!0,a(c).on(e,function(a){b.obj.call(c,a)}))}})}),g("Events Bound")},bindTrackingEvents:function(){a('a:not([href*="'+document.domain+'"])').mousedown(function(){if("undefined"!=typeof ga){var b=a(this),c=b.attr("href");if(checkIfExternalLink(c)){var d=c.replace(/http[s]?:\/\//,"");ga("send","event","outbound","click",d,{hitCallback:function(){}})}}})},bindReadMoreEvents:function(){a(""),a("#extend-intro").on("click.dnm.more",function(){a("#extended-intro").show(),a(this).hide()})},init:function(){d.bindEvents()}},e={logic:{},init:function(){g("Initializing Foundation"),a(document).foundation({"magellan-expedition":{destination_threshold:85}}),g("Initialized Foundation"),g("Initializing App"),b.settings.init(),d.init(),g("Initialized App")}},f={init:e.init}}(window.jQuery);jQuery(document).ready(Doctor.init);
//# sourceMappingURL=app.min.js.map